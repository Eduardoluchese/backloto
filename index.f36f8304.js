const t=[],e={webhookUrl:"https://script.google.com/macros/s/AKfycbzl-OEF6f7yhlSJaLrJYLaa58vXPVLNPe_i3omnAMLzPjLWrYUDJISccDIcR6mplsOVIg/exec",quizId:"quiz_"+Date.now(),quizName:"backloto",quizCategory:"Teste"},o={quizName:e.quizName,startTime:Date.now(),endTime:null,furthestSection:"section-0",responses:{},city:"",state:"",postalCode:"",device:"",nome:"",email:"",whatsapp:""};o.device=function(){let t=navigator.userAgent;return/android/i.test(t)?"Android":/iPhone|iPad|iPod/i.test(t)?"iOS":/Windows Phone/i.test(t)?"Windows Phone":/Macintosh/i.test(t)?"Mac":/Windows/i.test(t)?"Windows":/Linux/i.test(t)?"Linux":"Other"}();let l=!1;function i(){if(l)return;l=!0,o.endTime=Date.now(),o.nome=c.nome||"",o.email=c.email||"",o.whatsapp=c.whatsapp||"";let t=new Blob([new URLSearchParams({data:JSON.stringify([o])})],{type:"application/x-www-form-urlencoded"});navigator.sendBeacon(e.webhookUrl,t)}function n(t){if(l)return;l=!0,o.nome=c.nome||"",o.email=c.email||"",o.whatsapp=c.whatsapp||"",o.city=o.city||"Desconhecida";let i=[o],n=new Blob([new URLSearchParams({data:JSON.stringify(i)})],{type:"application/x-www-form-urlencoded"});navigator.sendBeacon(e.webhookUrl,n)?window.location.href=t:fetch(e.webhookUrl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({data:JSON.stringify(i)})}).then(()=>{window.location.href=t}).catch(e=>{console.error("Erro ao enviar analytics:",e),window.location.href=t})}window.addEventListener("pagehide",i),window.addEventListener("beforeunload",i),document.addEventListener("visibilitychange",function(){"hidden"===document.visibilityState&&i()}),document.addEventListener("click",function(e){let l=e.target.closest(".mobile-button");if(l){if(l.disabled||"none"===l.style.pointerEvents)return;let e=l.getAttribute("data-link");if(e){o.endTime=Date.now(),n(e);return}let i=l.id,r=t.find(t=>t.elementId===i);if(r){let t=r.startIndex,e=l.querySelector(".text").textContent;o.responses["section_"+t]=e,s("section-"+r.endIndex)}}});let r=!1;async function a(){if(!r){r=!0,console.log("Iniciando fetchUserLocation...");try{let t=await fetch("https://ipapi.co/json/");if(!t.ok)throw Error("ipapi.co falhou");let e=await t.json();if(!e)throw Error("Nenhum dado recebido da ipapi.co");o.city=e.city||"Desconhecida",o.state=e.region||"Desconhecido",o.postalCode=e.postal||"Desconhecido",console.log("Localização do usuário:",o.city,o.state,o.postalCode)}catch(t){console.error("Erro ao buscar a localização via ipapi.co:",t),o.city="Desconhecida",o.state="Desconhecido",o.postalCode="Desconhecido"}}}function s(e){y.forEach(t=>{t.pauseVideo()}),console.log("Showing section:",e),document.querySelectorAll(".quiz-section").forEach(t=>{t.classList.remove("active"),t.querySelectorAll(".mobile-gallery").forEach(t=>{t.galleryInstance&&t.galleryInstance.stopAutoplay()}),t.querySelectorAll(".mobile-button").forEach(t=>{t.style.opacity="0",t.style.transition="none",t.style.pointerEvents="none"})});let i=document.getElementById(e);i&&(i.classList.add("active"),window.scrollTo({top:0,behavior:"auto"}),document.documentElement.scrollTop=0,document.body.scrollTop=0,function(t){t.querySelectorAll(".mobile-button[data-delay]").forEach(t=>{t.style.opacity="0",t.style.pointerEvents="none";let e=parseFloat(t.getAttribute("data-delay"));setTimeout(()=>{t.style.opacity="1",t.style.pointerEvents="auto"},isNaN(e)?0:1e3*e)})}(i),i.querySelectorAll(".mobile-button:not([data-delay])").forEach(t=>{t.style.opacity="1",t.style.transition="opacity 0.3s ease",t.style.pointerEvents="auto"}),function(e){e.querySelectorAll(".mobile-progress").forEach(function(e){let i=e.querySelector(".progress-fill"),r=e.querySelector(".progress-value"),a=parseInt(e.getAttribute("data-start"))||0,c=parseInt(e.getAttribute("data-end"))||100,d="true"===e.getAttribute("data-enable-redirect"),u=parseInt(e.getAttribute("data-duration"))||1;console.log("Animating progress bar:",e.id,"from",a,"to",c,"duration:",u),i.style.width=a+"%",r.textContent=a+"%";let y=a,h=(c-a)/(50*u),p=setInterval(function(){(y+=h)>=c&&(y=c,clearInterval(p),console.log("Progress bar reached 100%"),d)&&"true"===e.getAttribute("data-enable-redirect")&&setTimeout(function(){let i=e.getAttribute("data-redirect-link");if(i)l?window.location.href=i:(o.endTime=Date.now(),n(i));else{let o=t.find(function(t){return t.elementId===e.id});o&&s("section-"+o.endIndex)}},1e3),i.style.width=y+"%",r.textContent=Math.round(y)+"%"},20)})}(i),function(t){t.querySelectorAll(".mobile-score").forEach(t=>{let e=t.querySelector(".circle-wrap"),o=t.querySelector(".percent"),l=parseInt(o.textContent,10)||0;(function(t,e,o,l,i,n){let r=0;e.textContent="0%",t.style.background=`conic-gradient(${l} 0%, ${i} 0%, rgb(229, 231, 235) 0%)`;let a=setInterval(()=>{if(r>=o){clearInterval(a);return}r++,t.style.background=`
    conic-gradient(
      ${l} 0%,
      ${i} ${r}%,
      rgb(229, 231, 235) ${r}%
    )
  `,e.textContent=r+"%",e.style.backgroundColor=n},20)})(e,o,l,t.getAttribute("data-primary-color")||"#a31b1b",t.getAttribute("data-secondary-color")||"#dc2626",t.getAttribute("data-bg-color")||"#f8f9fe")})}(i),function(t){Array.from(t.getElementsByTagName("*")).filter(t=>!t.children.length&&t.textContent.includes("{{")).map(t=>({element:t,original:t.textContent})).forEach(({element:t,original:e})=>{let l=e;(l.match(/{{([^}]+)}}/g)||[]).forEach(t=>{let e=t.slice(2,-2).trim(),i=c[e]||o[e]||"";l=l.replace(t,i)}),t.textContent=l})}(i),d(i.querySelector(".input-widget")),function(t=document){t.querySelectorAll(".mobile-gallery").forEach(t=>{let e=t.galleryInstance;e&&e.stopAutoplay(),t.galleryInstance=new u(t)})}(i),a(),(parseInt(e.split("-")[1])||0)>(parseInt(o.furthestSection.split("-")[1])||0)&&(o.furthestSection=e))}document.addEventListener("DOMContentLoaded",function(){console.log("DOM fully loaded");let t=document.querySelector(".quiz-section");t&&t.id?(console.log("Activating first section using showSection"),s(t.id),l=!1):console.error("Primeira seção não encontrada ou não possui um ID.")}),document.querySelectorAll(".mobile-button").forEach(function(t){let e=t.getAttribute("data-hover-color");e&&t.style.setProperty("--hover-color",e)}),document.addEventListener("DOMContentLoaded",function(){let e=()=>{document.querySelectorAll(".mobile-multiple-choice").forEach(e=>{let{options:o,continueButton:l,continueColor:i,checkboxColor:n}=function(t){let e=t.querySelectorAll(".option-button"),o=t.querySelector(".continue-button"),l=o.style.backgroundColor,i=e[0]?.querySelector(".checkbox")?.style.borderColor||"#d6d6d6";e.forEach(t=>{let e=t.cloneNode(!0);t.parentNode.replaceChild(e,t)});let n=o.cloneNode(!0);return o.parentNode.replaceChild(n,o),t.querySelectorAll(".option-button").forEach(t=>{t.classList.remove("active");let e=t.querySelector(".checkbox");e&&(e.style.backgroundColor="",e.style.borderColor=i)}),n.classList.remove("active"),n.style.opacity="0.5",n.style.cursor="not-allowed",{options:t.querySelectorAll(".option-button"),continueButton:n,continueColor:l,checkboxColor:i}}(e);function r(t){t.preventDefault(),this.classList.toggle("active");let o=this.querySelector(".checkbox");this.classList.contains("active")?o.style.backgroundColor=n:o.style.backgroundColor="",o.style.borderColor=n,function(t,e){let o=t.querySelectorAll(".option-button.active").length>0;e.classList.toggle("active",o),e.style.opacity=o?"1":"0.5",e.style.cursor=o?"pointer":"not-allowed"}(e,l)}o.forEach(t=>{t.addEventListener("click",r)}),l.addEventListener("click",()=>{if(e.querySelectorAll(".option-button.active").length>0){let o=t.find(t=>t.elementId===e.id);o&&s("section-"+o.endIndex)}})})};e();let o=new MutationObserver(t=>{t.forEach(t=>{t.target.classList.contains("active")&&(e(),d(t.target.querySelector(".input-widget")))})});document.querySelectorAll(".quiz-section").forEach(t=>{o.observe(t,{attributes:!0,attributeFilter:["class"]})})});let c=JSON.parse(sessionStorage.getItem("userVariables")||"{}");function d(e){if(!e)return;let o=e.querySelector(".input-field"),l=e.querySelector(".continue-button"),i=o.getAttribute("data-variable");l.disabled=!0,l.style.opacity="0.5",l.style.cursor="not-allowed",c[i]&&(o.value=c[i],l.disabled=!1,l.style.opacity="1",l.style.cursor="pointer"),o.addEventListener("input",function(){let t=this.value.trim().length>0;l.disabled=!t,l.style.opacity=t?"1":"0.5",l.style.cursor=t?"pointer":"not-allowed",c[i]=this.value,sessionStorage.setItem("userVariables",JSON.stringify(c))}),l.addEventListener("click",function(){if(o.value.trim().length>0){let o=t.find(t=>t.elementId===e.id);o&&s("section-"+o.endIndex)}})}class u{constructor(t){this.gallery=t,this.track=t.querySelector(".gallery-track"),this.slides=[...t.querySelectorAll(".gallery-slide")],this.dots=[...t.querySelectorAll(".gallery-dot")],this.currentSlide=0,this.autoplayInterval=null;let e=t.querySelectorAll(".gallery-dot"),o=e[0],l=e[1];this.dotActiveColor=o?.style.backgroundColor||"#9333ea",this.dotColor=l?.style.backgroundColor||"#ccc",this.dots.forEach((t,e)=>{t.style.transition="all 0.3s ease",this.updateDotStyle(t,0===e)}),this.dots.forEach((t,e)=>{t.addEventListener("click",()=>this.goToSlide(e))}),this.touchStartX=0,this.touchEndX=0,this.track.addEventListener("touchstart",t=>this.touchStart(t)),this.track.addEventListener("touchmove",t=>this.touchMove(t)),this.track.addEventListener("touchend",t=>this.touchEnd(t)),this.track.addEventListener("mouseenter",()=>this.stopAutoplay()),this.track.addEventListener("mouseleave",()=>this.startAutoplay()),this.updateDotColors(),this.startAutoplay()}updateDotStyle(t,e){t.style.backgroundColor=e?this.dotActiveColor:this.dotColor,t.style.transform=e?"scale(1.2)":"scale(1)"}updateDotColors(){this.dots.forEach((t,e)=>{this.updateDotStyle(t,e===this.currentSlide)})}startAutoplay(){this.stopAutoplay(),this.autoplayInterval=setInterval(()=>this.next(),3e3)}stopAutoplay(){this.autoplayInterval&&(clearInterval(this.autoplayInterval),this.autoplayInterval=null)}updateSlide(){this.track.style.transition="transform 0.3s ease",this.track.style.transform=`translateX(-${100*this.currentSlide}%)`,this.updateDotColors()}next(){this.currentSlide=(this.currentSlide+1)%this.slides.length,this.updateSlide()}prev(){this.currentSlide=(this.currentSlide-1+this.slides.length)%this.slides.length,this.updateSlide()}goToSlide(t){this.currentSlide=t,this.updateSlide(),this.stopAutoplay(),this.startAutoplay()}touchStart(t){this.touchStartX=t.touches[0].clientX,this.stopAutoplay(),this.track.style.transition="none"}touchMove(t){if(!this.touchStartX)return;t.preventDefault();let e=t.touches[0].clientX,o=-(this.touchStartX-e+this.currentSlide*this.gallery.offsetWidth);this.track.style.transform=`translateX(${o}px)`}touchEnd(t){let e=t.changedTouches[0].clientX,o=this.touchStartX-e;Math.abs(o)>50?o>0?this.next():this.prev():this.updateSlide(),this.touchStartX=0,this.startAutoplay()}}const y=new Map,h=new MutationObserver(t=>{t.forEach(t=>{t.target.classList.contains("active")&&t.target.querySelectorAll(".mobile-video").forEach(t=>{y.has(t.id.split("-")[1])||function(t){let e=t.id.split("-")[1],o=t.querySelector(`#start-overlay-${e}`),l=t.querySelector(`#pause-overlay-${e}`),i=t.querySelector(`#blur-bg-${e}`);if(!t.querySelector(`#youtube-video-${e}`))return;let n=new YT.Player(`youtube-video-${e}`,{events:{onReady:function(){o.style.display="flex",i.style.display="block",n.setPlaybackQuality("hd1080"),o.onclick=()=>{n.playVideo(),o.style.display="none",i.style.display="none"},l.onclick=()=>{n.playVideo(),l.style.display="none",i.style.display="none"}},onStateChange:function(t){t.data===YT.PlayerState.PAUSED?(l.style.display="flex",i.style.display="block"):t.data===YT.PlayerState.ENDED?(o.style.display="flex",l.style.display="none",i.style.display="block"):t.data===YT.PlayerState.PLAYING&&(o.style.display="none",l.style.display="none",i.style.display="none",n.setPlaybackQuality("hd1080"))}}});y.set(e,n)}(t)})})});document.querySelectorAll(".quiz-section").forEach(t=>{h.observe(t,{attributes:!0,attributeFilter:["class"],subtree:!0})}),document.querySelectorAll(".faq-header").forEach(t=>{t.addEventListener("click",()=>{t.classList.toggle("active");let e=t.nextElementSibling;e.classList.toggle("active"),e.classList.contains("active")?e.style.maxHeight=e.scrollHeight+"px":e.style.maxHeight="0"})}),document.querySelectorAll(".input-widget").forEach(d);
//# sourceMappingURL=index.f36f8304.js.map
